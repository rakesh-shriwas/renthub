<div class="d-flex align-items-center gap-2">
  <button mat-icon-button (click)="goBack()">
    <mat-icon>arrow_back</mat-icon>
  </button>
  <h3>Post Details</h3>
</div>
<mat-card
  appearance="outlined"
  class="post-details"
  *ngIf="(postDetails$ | async)?.[0] as postDetails"
>
  <mat-card-content>
    <div class="d-flex gap-2">
      <h4 class="m-0">Property Type:</h4>
      <span>{{ postDetails?.apartmentType }}</span>
    </div>
    <div class="d-flex gap-2">
      <p>
        {{ postDetails?.description }}
      </p>
      <div></div>
    </div>
    <div class="d-flex align-items-center gap-2">
      <mat-icon>place</mat-icon>
      <h4 class="m-0">Address</h4>
      <p class="m-0">
        {{ postDetails?.location }}
      </p>
    </div>
    <div class="d-flex align-items-center gap-2">
      <h4>Rent</h4>
      <p>{{ postDetails.rent }}</p>
    </div>
    <h3 class="fw-none">Amenities</h3>
    <div class="amenities-grid-container">
      @for (name of postDetails.amenities; track $index) {

      <div class="d-flex align-items-center gap-2 amenities-item">
        <mat-icon>check_circle</mat-icon>
        <span>{{ name }}</span>
      </div>
      }
    </div>
    <mat-divider></mat-divider>
    <h3>Gallery</h3>
    <div class="grid-container">
      @for (image of postDetails.images; track $index) {
      <img [src]="image" loading="lazy" alt="Gallery" class="img-responsive" />
      }
    </div>
  </mat-card-content>
</mat-card>
<app-comments
  [comments]="(postComments$ | async) ?? []"
  (postComment)="postComment($event)"
  [isLoading]="(commentIsLoading$ | async) ?? false"
></app-comments>
